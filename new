<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataViz AI - Instant Data Dashboards</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Plotly.js for Visualizations -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- SheetJS for Excel parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.5/xlsx.full.min.js"></script>
</head>
<body class="bg-gray-50">
    <!-- Homepage Header -->
    <header class="bg-white shadow-sm p-4">
        <div class="container mx-auto">
            <h1 class="text-3xl font-bold text-gray-900">DataViz AI</h1>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto px-4 py-16">
        <div class="max-w-2xl mx-auto text-center">
            <h2 class="text-4xl font-extrabold text-blue-800 mb-4">From Upload to Insight — Instantly</h2>
            <p class="text-xl text-gray-600 mb-8">Upload your CSV, Excel, or connect a database. Get interactive dashboards with AI-generated insights—all in seconds. No coding required.</p>
            <button 
                id="ctaButton"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-xl mb-4"
                onclick="showUploadPanel()"
            >
                Generate My Dashboard
            </button>
        </div>
    </section>

    <!-- Feature Cards -->
    <section class="container mx-auto px-4 py-12">
        <div class="max-w-7xl mx-auto">
            <h3 class="text-2xl font-bold text-gray-800 text-center mb-8">Why DataViz AI?</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1: AI Analysis -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <i class="fas fa-brain text-blue-500 text-3xl mb-4"></i>
                    <h4 class="text-xl font-semibold text-blue-800 mb-2">AI-Powered Analysis</h4>
                    <p class="text-gray-600">Automatically identifies trends, correlations, and outliers using cutting-edge AI.</p>
                </div>

                <!-- Card 2: One-Click Visualization -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <i class="fas fa-chart-line text-green-500 text-3xl mb-4"></i>
                    <h4 class="text-xl font-semibold text-green-800 mb-2">One-Click Visualization</h4>
                    <p class="text-gray-600">Instantly generates charts (line, bar, pie) tailored to your data—no technical skills needed.</p>
                </div>

                <!-- Card 3: Share Instantly -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <i class="fas fa-share-alt text-pink-500 text-3xl mb-4"></i>
                    <h4 class="text-xl font-semibold text-pink-800 mb-2">Share Instantly</h4>
                    <p class="text-gray-600">Export as PDF, share via link, or embed in your website with one click.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Upload Panel (Hidden by Default) -->
    <section id="uploadPanel" class="container mx-auto px-4 py-12 hidden">
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Upload Your Dataset</h2>
            
            <!-- Drag & Drop Area -->
            <div 
                class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-6"
                ondragover="dragOver(event)"
                ondragleave="dragLeave(event)"
                ondrop="dropFile(event)"
            >
                <i class="fas fa-upload text-4xl text-blue-500 mb-4"></i>
                <p class="text-xl text-gray-600">Drag & drop your file here</p>
                <p class="text-gray-500">or</p>
                <label 
                    for="fileInput"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg mt-2 cursor-pointer"
                >
                    Select File
                </label>
                <input 
                    type="file" 
                    id="fileInput" 
                    class="hidden" 
                    accept=".csv,.xlsx,.json"
                    onchange="handleFileSelect(event)"
                >
            </div>

            <!-- Connectors -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-lg">
                    Connect Google Sheets <i class="fab fa-google-cloud ml-2"></i>
                </button>
                <button class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg">
                    Connect SQL Database <i class="fas fa-database ml-2"></i>
                </button>
                <button class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-6 rounded-lg">
                    Connect API <i class="fas fa-link ml-2"></i>
                </button>
            </div>

            <!-- Data Preview -->
            <div id="previewContainer" class="hidden">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Data Preview</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border-collapse rounded-lg">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="p-3 text-left">Column 1</th>
                                <th class="p-3 text-left">Column 2</th>
                                <th class="p-3 text-left">Column 3</th>
                            </tr>
                        </thead>
                        <tbody id="previewBody">
                            <!-- Preview rows will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <button 
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg mt-8"
                onclick="generateDashboard()"
            >
                Generate Dashboard <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </div>
    </section>

    <!-- Dashboard Section (Hidden by Default) -->
    <section id="dashboardSection" class="container mx-auto px-4 py-12 hidden">
        <div class="max-w-7xl mx-auto bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Your Interactive Dashboard</h2>
            
            <!-- KPIs Row -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="bg-blue-50 p-4 rounded-lg text-blue-800">
                    <h3 class="text-lg font-semibold mb-2">Total Sales</h3>
                    <p class="text-2xl font-bold">$500,000</p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg text-green-800">
                    <h3 class="text-lg font-semibold mb-2">Avg Profit Margin</h3>
                    <p class="text-2xl font-bold">22%</p>
                </div>
                <div class="bg-pink-50 p-4 rounded-lg text-pink-800">
                    <h3 class="text-lg font-semibold mb-2">Latest Data</h3>
                    <p class="text-2xl font-bold">Oct 2023</p>
                </div>
            </div>

            <!-- Visualization Tabs -->
            <div class="mb-6">
                <button 
                    class="px-4 py-2 font-semibold rounded-t-lg border-b-2 border-blue-500 active"
                    onclick="showTab('overview')"
                >
                    Overview
                </button>
                <button 
                    class="px-4 py-2 font-semibold rounded-t-lg border-b-2 border-transparent"
                    onclick="showTab('trends')"
                >
                    Trends
                </button>
                <button 
                    class="px-4 py-2 font-semibold rounded-t-lg border-b-2 border-transparent"
                    onclick="showTab('correlations')"
                >
                    Correlations
                </button>
                <button 
                    class="px-4 py-2 font-semibold rounded-t-lg border-b-2 border-transparent"
                    onclick="showTab('outliers')"
                >
                    Outliers
                </button>
            </div>

            <!-- Visualization Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Sales Trend Chart -->
                <div id="salesChart" class="rounded-lg"></div>
                <!-- Profit by Region Chart -->
                <div id="profitChart" class="rounded-lg"></div>
            </div>

            <!-- Insight Summary -->
            <div class="mt-12">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Key Insights</h3>
                <p class="text-gray-700 mb-6">
                    Sales increased 15% in Q3, led by electronics in the East region. Profit margins dipped slightly in West due to higher returns.
                </p>
                <div class="flex gap-4">
                    <button class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg">
                        Download PDF <i class="fas fa-file-pdf ml-2"></i>
                    </button>
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg">
                        Share Link <i class="fas fa-share ml-2"></i>
                    </button>
                    <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-lg">
                        Embed Code <i class="fas fa-code ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-100 py-8 mt-12">
        <div class="container mx-auto text-center text-gray-600">
            Trusted by 1,000+ Users | Developed with MBZUAI IFM Technology
        </div>
    </footer>

    <script>
        // Show upload panel on CTA click
        function showUploadPanel() {
            document.getElementById('uploadPanel').classList.remove('hidden');
            document.getElementById('ctaButton').style.display = 'none';
        }

        // Drag & Drop Handlers
        function dragOver(event) {
            event.preventDefault();
            event.target.classList.add('border-blue-500');
        }
        function dragLeave(event) {
            event.target.classList.remove('border-blue-500');
        }
        function dropFile(event) {
            event.preventDefault();
            const file = event.dataTransfer.files[0];
            handleFileUpload(file);
        }

        // File Input Handler
        function handleFileSelect(event) {
            const file = event.target.files[0];
            handleFileUpload(file);
        }

        // File Upload Logic (Simplified)
        function handleFileUpload(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                const data = e.target.result;
                const parsedData = parseData(file.type, data);
                displayPreview(parsedData);
            };
            reader.readAsText(file);
        }

        // Data Parsing (CSV/Excel/JSON)
        function parseData(type, data) {
            if (type === 'text/csv' || type.includes('csv')) {
                return CSVToArray(data);
            } else if (type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {
                const workbook = XLSX.read(data, {type: 'array'});
                const sheet = workbook.Sheets[workbook.SheetNames[0]];
                return XLSX.utils.sheet_to_json(sheet, {header: 1});
            } else if (type === 'application/json') {
                return JSON.parse(data);
            }
            return [];
        }

        // CSV to Array Converter
        function CSVToArray(csv) {
            return csv.split('\n').map(row => row.split(','));
        }

        // Data Preview Display
        function displayPreview(data) {
            if (data.length < 2) return;
            
            const previewBody = document.getElementById('previewBody');
            const headers = data[0];
            previewBody.innerHTML = ''; // Clear existing
            
            // Create table headers (if not already present)
            const previewTable = document.getElementById('previewBody').parentNode.previousElementSibling;
            if (previewTable.rows.length === 0) {
                const headerRow = document.createElement('tr');
                headers.forEach(header => {
                    const th = document.createElement('th');
                    th.className = 'p-3 text-left';
                    th.textContent = header;
                    headerRow.appendChild(th);
                });
                previewTable.appendChild(headerRow);
            }

            // Show first 5 rows
            data.slice(1,6).forEach(row => {
                const tr = document.createElement('tr');
                row.forEach(cell => {
                    const td = document.createElement('td');
                    td.className = 'p-3 border';
                    td.textContent = cell || '';
                    tr.appendChild(td);
                });
                previewBody.appendChild(tr);
            });

            document.getElementById('previewContainer').classList.remove('hidden');
        }

        // Dashboard Generation (Simulated)
        function generateDashboard() {
            document.getElementById('uploadPanel').classList.add('hidden');
            document.getElementById('dashboardSection').classList.remove('hidden');
            
            // Simulate Plotly charts
            createSalesChart();
            createProfitChart();
        }

        // Sample Sales Chart (Plotly)
        function createSalesChart() {
            const data = [{
                x: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                y: [100, 120, 150, 140, 180, 200, 220, 240, 280, 300],
                type: 'line',
                name: 'Monthly Sales'
            }];
            const layout = {
                title: 'Sales Trend (2023)',
                xaxis: {title: 'Month'},
                yaxis: {title: 'Revenue (USD)'},
                height: 400
            };
            Plotly.newPlot('salesChart', data, layout);
        }

        // Sample Profit Chart (Plotly)
        function createProfitChart() {
            const data = [{
                x: ['East', 'West', 'North', 'South'],
                y: [45000, 38000, 29000, 32000],
                type: 'bar',
                name: 'Profit by Region'
            }];
            const layout = {
                title: 'Regional Profit Breakdown',
                xaxis: {title: 'Region'},
                yaxis: {title: 'Profit (USD)'},
                height: 400
            };
            Plotly.newPlot('profitChart', data, layout);
        }

        // Tab Switching Logic
        function showTab(tabId) {
            const tabs = document.querySelectorAll('button[onclick^="showTab"]');
            tabs.forEach(tab => tab.classList.remove('active'));
            document.querySelector(`button[onclick="showTab('${tabId}')"]`).classList.add('active');
            // In real app: Load tab-specific content here
        }
    </script>
</body>
</html>
